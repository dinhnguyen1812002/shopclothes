{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI-PC\\\\Downloads\\\\doanjs\\\\clothing_store\\\\client\\\\src\\\\components\\\\pages\\\\Reset.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { API_URL } from '../../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Reset() {\n  _s();\n  const isLoggedIn = localStorage.getItem('isLoggedIn');\n  const success = localStorage.getItem('success_reset');\n  const username_resetPass = localStorage.getItem('username_resetPass');\n  if (isLoggedIn || !success) {\n    window.location.href = '/';\n  }\n  const [password, setPassword] = useState(\"\");\n  const changePassword = () => {\n    if (password) {\n      try {\n        axios.put(`${API_URL}/api/users/update_password/reset`, {\n          username: username_resetPass,\n          newPassword: password\n        }).then(response => {\n          if (response.status === 200) {\n            localStorage.removeItem('success_reset');\n            localStorage.removeItem('username_resetPass');\n            alert(\"Đổi mật khẩu thành công, vui lòng đăng nhập!\");\n            window.location.href = \"/\";\n          } else {\n            alert('Đổi mật khẩu không thành công');\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    } else alert(\"Vui lòng nhập Mật khẩu mới của bạn\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container row mt-4 mb-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" THAY \\u0110\\u1ED4I M\\u1EACT KH\\u1EA8U \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), \"  M\\u1EADt kh\\u1EA9u m\\u1EDBi:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"password\",\n        placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n        required: \"\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary mt-2\",\n        onClick: () => changePassword(),\n        children: \"\\u0110\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Reset, \"fsE4KjUtTGid/UZc9Uo/kD8+5F8=\");\n_c = Reset;\nvar _c;\n$RefreshReg$(_c, \"Reset\");","map":{"version":3,"names":["React","useState","axios","API_URL","jsxDEV","_jsxDEV","Reset","_s","isLoggedIn","localStorage","getItem","success","username_resetPass","window","location","href","password","setPassword","changePassword","put","username","newPassword","then","response","status","removeItem","alert","error","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","required","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/MSI-PC/Downloads/doanjs/clothing_store/client/src/components/pages/Reset.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API_URL } from '../../config';\r\n\r\nexport default function Reset() {\r\n  const isLoggedIn = localStorage.getItem('isLoggedIn');\r\n  const success = localStorage.getItem('success_reset');\r\n  const username_resetPass = localStorage.getItem('username_resetPass');\r\n  if (isLoggedIn || !success) {\r\n    window.location.href = '/';\r\n  }\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const changePassword = () => {\r\n    if (password) {\r\n      try {\r\n        axios.put(`${API_URL}/api/users/update_password/reset`, {\r\n          username: username_resetPass,\r\n          newPassword: password,\r\n        }).then((response) => {\r\n          if (response.status === 200) {\r\n            localStorage.removeItem('success_reset');\r\n            localStorage.removeItem('username_resetPass');\r\n            alert(\"Đổi mật khẩu thành công, vui lòng đăng nhập!\");\r\n            window.location.href = \"/\";\r\n          } else {\r\n            alert('Đổi mật khẩu không thành công');\r\n          }\r\n        });\r\n\r\n      } catch (error) { console.log(error); }\r\n    }\r\n    else alert(\"Vui lòng nhập Mật khẩu mới của bạn\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container row mt-4 mb-4\">\r\n      <div className=\"col-md-4\"></div>\r\n      <div className=\"col-md-4\">\r\n        <h2> THAY ĐỔI MẬT KHẨU </h2>\r\n        <label />  Mật khẩu mới:\r\n        <input className=\"form-control\"\r\n          type=\"password\"\r\n          placeholder=\"••••••••\"\r\n          required=\"\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button className=\"btn btn-primary mt-2\" onClick={() => changePassword()}>Đặt lại mật khẩu </button>\r\n      </div>\r\n      <div className=\"col-md-4\"></div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}